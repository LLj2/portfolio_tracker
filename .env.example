# ==== General ====
TZ=Europe/Rome
ENV=prod
LOG_LEVEL=INFO

# ==== App network ====
# Internal listen port (must match compose mapping)
PORT=8080

# Access: list explicit origins; include the Tailscale URL you use to access the server.
# Example Tailscale MagicDNS name (replace with your actual Tailscale access URL):
# - http://your-server-name.tailnet-name.ts.net:8080
# - http://100.x.y.z:8080 (your server's Tailscale IP)
ALLOWED_ORIGINS=http://localhost,http://127.0.0.1:8080

# ==== Portfolio defaults ====
BASE_CURRENCY=EUR

# ==== Scheduling ====
# Pricing windows (comma-separated HH:MM format)
SCHED_WINDOWS=12:00,20:00
# End-of-day snapshot time
SCHED_EOD_TIME=23:30

# ==== External pricing / data providers ====
# Provide at least one of these for listed securities; app has fallback logic.
# Alpha Vantage: Sign up at https://www.alphavantage.co/ (5 req/min, 500 req/day free)
ALPHAVANTAGE_API_KEY=

# IEX Cloud: Sign up at https://iexcloud.io/ (50,000 req/month free)
IEX_CLOUD_TOKEN=

# Yahoo Finance fallback usually doesn't need an API key.

# API base URLs (usually don't need to change)
COINGECKO_BASE=https://api.coingecko.com/api/v3
ECB_FX_BASE=https://www.ecb.europa.eu/stats/eurofxref/eurofxref-daily.xml

# ==== Database ====
# Choose one:
# 1) External DSN (e.g., managed Postgres, Railway, Supabase, etc.)
DATABASE_URL=

# 2) Local Postgres via optional compose service:
# DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@db:5432/${POSTGRES_DB}

# Local Postgres credentials (only needed if using the db service)
POSTGRES_USER=portfolio
POSTGRES_PASSWORD=please_change_me_very_long
POSTGRES_DB=portfolio

# ==== Email / notifications (optional) ====
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASS=
NOTIFY_TO=you@example.com

# ==== Notes ====
# When you know the Tailscale URL you actually use (MagicDNS or 100.x.y.z),
# add it to ALLOWED_ORIGINS so browser calls succeed.
# Example: ALLOWED_ORIGINS=http://100.64.1.2:8080,http://my-server.tailnet.ts.net:8080